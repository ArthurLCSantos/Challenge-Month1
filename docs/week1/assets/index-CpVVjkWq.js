import*as t from"https://unpkg.com/three@0.158.0/build/three.module.js";import{OrbitControls as P}from"https://unpkg.com/three@0.158.0/examples/jsm/controls/OrbitControls.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&f(g)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();const h=document.querySelector("#C"),w=document.getElementById("LP"),x=document.getElementById("LA"),v=document.getElementById("LD"),p=document.getElementById("vel"),A=document.getElementById("wireframe"),M=document.getElementById("helpers"),B=document.getElementById("colorPicker"),E=document.getElementsByName("color"),R=document.getElementsByName("radioTexture"),y=document.getElementById("imageInput"),I=document.getElementById("buttonDelete");let C=p.value;p.addEventListener("input",()=>z(p.value));w.addEventListener("input",()=>G(w.value));x.addEventListener("input",()=>j(x.value));v.addEventListener("input",()=>W(v.value));A.addEventListener("change",V);M.addEventListener("change",$);Array.from(document.getElementsByName("color")).forEach(e=>e.onclick=b);Array.from(document.getElementsByName("radioTexture")).forEach(e=>e.onclick=K);y.addEventListener("change",()=>T(URL.createObjectURL(y.files[0])));B.addEventListener("input",()=>F(B.value));I.addEventListener("click",Y);const u=new t.Scene,s=new t.PerspectiveCamera(75,1,.1,1e3);s.position.set(0,2,-2);s.lookAt(0,0,0);const O=new P(s,h),m=new t.WebGLRenderer({canvas:h,alpha:!0});function k(){const e=h.getBoundingClientRect(),n=e.width,a=e.height;m.setSize(n/2,a,!1),m.setPixelRatio(window.devicePixelRatio*2),s.aspect=n/a,s.updateProjectionMatrix()}const l=new t.DirectionalLight(16777215,1);l.position.set(5,5,0);const L=new t.Object3D;L.position.set(0,0,0);u.add(L);l.target=L;u.add(l);const D=new t.AmbientLight(16777215,1);u.add(D);new t.CubeTextureLoader;const S=new t.BoxGeometry,c=new t.MeshStandardMaterial({color:65280,wireframeLinewidth:5,side:t.DoubleSide}),i=new t.Mesh(S,c);u.add(i);const d=new t.Group,N=new t.AxesHelper(10),U=new t.GridHelper(50,50),q=new t.DirectionalLightHelper(l,2);d.add(q);d.add(N);d.add(U);d.visible=!1;u.add(d);function H(e){i.rotateY(.01*C),O.update(),m.render(u,s)}m.setClearColor(0,.3);m.setAnimationLoop(H);window.addEventListener("resize",k);k();function z(e){C=e,document.getElementById("quantVel").innerText=e+"x"}function G(e){l.intensity=e,document.getElementById("quantLP").innerText=e}function W(e){const n=t.MathUtils.degToRad(e);l.position.set(5*Math.cos(n),5,5*Math.sin(n)),l.updateMatrixWorld(),d.children[0].update(),document.getElementById("quantLD").innerText=`${e}Â°`}function j(e){D.intensity=e,document.getElementById("quantLA").innerText=e}function V(){c.wireframe=!c.wireframe}function $(){d.visible=!d.visible}function b(){for(let e of E)if(e.checked){switch(e.value){case"red":c.color=new t.Color(16711680);break;case"blue":c.color=new t.Color(255);break;case"green":c.color=new t.Color(65280);break;case"yellow":c.color=new t.Color(16776960);break;case"white":c.color=new t.Color(16777215);break}break}document.getElementById("cardColor").style.backgroundColor=c.color.getStyle()}function F(e){const n=document.getElementById("cardColor");c.color=new t.Color(e),n.style.backgroundColor=e,E.forEach(a=>a.checked=!1)}function K(){for(let e of R)if(e.checked){T(e.value);break}}function T(e){const n=document.getElementById("card"),a=document.getElementById("buttonDelete"),f=document.getElementById("upload-icon");e&&(new t.TextureLoader().load(e,r=>{i.material.map&&i.material.map.dispose(),i.material.map=r,i.material.needsUpdate=!0}),E[4].checked=!0,b(),n.style.backgroundImage=`url(${e})`,a.style.display="flex",f.style.display="none")}function Y(){const e=document.getElementById("card"),n=document.getElementById("upload-icon");e.style.backgroundImage="",I.style.display="none",y.value="",n.style.display="block",i.material.map&&(i.material.map.dispose(),i.material.map=null,i.material.needsUpdate=!0,b())}
